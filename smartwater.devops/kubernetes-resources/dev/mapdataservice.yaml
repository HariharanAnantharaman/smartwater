apiVersion: extensions/v1beta1
kind: Deployment
metadata:
 name: mapdataservice
 labels:
   run: mapdataservice
spec:
 replicas: 1
 strategy:
  type: RollingUpdate
  rollingUpdate:
   maxUnavailable: 0
   maxSurge: 100%
 template:
   metadata:
     labels:
       run: mapdataservice
   spec:
     containers:
     - name: mapdataservice
       image: gcr.io/synthetic-eon-241312/smartwater/mapdataservice:2
       imagePullPolicy: Always
           
---
kind: Service
apiVersion: v1
metadata:
 name: mapdataservice
spec:
 selector:
   run: mapdataservice
 ports:
   - name: port1
     protocol: TCP
     port: 5003
     targetPort: 8084
 type: NodePort
